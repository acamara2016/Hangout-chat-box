(this.webpackJsonphangout=this.webpackJsonphangout||[]).push([[0],{110:function(e,t,a){},111:function(e,t,a){},222:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),i=a(32),c=a.n(i),o=(a(110),a(23)),s=(a(111),a(93),a(67),a(35)),d=a(71),l=a(18);l.a.apps.length||l.a.initializeApp({apiKey:"AIzaSyBvjMWV1okvLur6IA26-9I_wTw34FBWImk",authDomain:"portfolio-1e555.firebaseapp.com",projectId:"portfolio-1e555",storageBucket:"portfolio-1e555.appspot.com",messagingSenderId:"935937401689",appId:"1:935937401689:web:a56edd862b344f7b45e248",measurementId:"G-KYCPNE30EY"});var u=l.a.auth(),p=l.a.firestore(),b=a(3);function j(){return Object(b.jsx)("div",{style:{height:"600px"},class:"container",children:Object(b.jsx)("div",{class:"row justify-content-md-center",children:Object(b.jsx)("div",{class:"col-md-auto",children:Object(b.jsxs)("a",{style:{marginTop:"100px"},class:"btn btn-primary",onClick:function(){var e=new l.a.auth.GoogleAuthProvider;u.signInWithPopup(e)},role:"button",children:[Object(b.jsx)("i",{class:"fab fa-google"})," Sign in with Google"]})})})})}a(114);var h=a(72),g=a.n(h),f=a(94),m=a(259),x=a(269),O=a(8),v=a(260),w=Object(O.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(m.a),y=(Object(O.a)((function(e){return{root:{width:22,height:22,border:"2px solid ".concat(e.palette.background.paper)}}}))(x.a),Object(v.a)((function(e){return{root:{display:"flex","& > *":{margin:e.spacing(1)}}}})));function S(e){var t=y();return Object(b.jsx)("div",{className:t.root,children:Object(b.jsx)(w,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:Object(b.jsx)(x.a,{alt:e.title,src:e.img})})})}function k(e){var t=e.message,a=(t.chat_id,t.text),n=t.uid,r=t.photoURL,i=(t.createdAt,n===u.currentUser.uid?"justify-content-end":"justify-content-start"),c=n===u.currentUser.uid?"primary-color":"secondary-color",o=n===u.currentUser.uid?"":"max-content",s=n===u.currentUser.uid?"":Object(b.jsx)(S,{title:u.currentUser.displayName,img:r||"https://api.adorable.io/avatars/23/abott@adorable.png"});return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)("small",{})}),Object(b.jsxs)("div",{style:{width:o},class:"d-flex ".concat(i),children:[s,Object(b.jsx)("p",{class:"rounded p-3 text-white w-75  ".concat(c),children:a})]})]})}var C=a(95),I=a.n(C);function U(e){var t=Object(n.useRef)(),a=(I()(),p.collection("messages")),r=a.orderBy("createdAt").limit(25),i=Object(d.a)(r,{idField:"id",chat_id:"1"}),c=Object(o.a)(i,1)[0],s=Object(n.useState)(""),j=Object(o.a)(s,2),h=j[0],m=j[1],x=function(){var e=Object(f.a)(g.a.mark((function e(n){var r,i,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=u.currentUser,i=r.uid,c=r.photoURL,e.next=4,a.add({chat_id:"1",text:h,createdAt:l.a.firestore.FieldValue.serverTimestamp(),uid:i,photoURL:c});case 4:m(""),t.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("main",{children:[c&&c.map((function(t){return t.chat_id===e.chat_id?Object(b.jsx)(k,{message:t},t.id):""})),Object(b.jsx)("span",{ref:t})]}),Object(b.jsx)("div",{style:{backgroundColor:"#ddd",position:"fixed",paddingLeft:"2em",left:"50%",width:"-webkit-fill-available",bottom:"0%",transform:"translateX(-50%)"},children:Object(b.jsx)("form",{style:{display:"flex"},onSubmit:x,children:Object(b.jsxs)("div",{style:{display:"contents"},class:"md-form chat-message-type",children:[Object(b.jsx)("input",{id:"form7",class:"md-textarea form-control",rows:"3",value:h,onChange:function(e){return m(e.target.value)},placeholder:"Say Hi"}),Object(b.jsx)("button",{class:"btn btn-primary btn-lg",type:"submit",disabled:!h,children:"Send message"})]})})})]})}var B=a(37),L=a(38),A=a(41),F=a(40),N={enableHighAccuracy:!0,timeout:1e3,maximumAge:0};function R(e){var t=e.coords;console.log("Your current position is:"),console.log("Latitude : ".concat(t.latitude)),console.log("Longitude: ".concat(t.longitude)),console.log("More or less ".concat(t.accuracy," meters."))}function _(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))}n.Component,a(120),r.a.Component;var z=a(58),E=a(9),P=a(42),T=a(63),G=(a(99),a(7)),W=a(262),D=a(268),M=a(264),V=(r.a.Component,a(263)),Y=a(261),H=a(266),J=a(96),K=a.n(J),X=a(97),$=a.n(X),q=(a(265),a(214),240);var Q=Object(v.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:q,width:"calc(100% - ".concat(q,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:q,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:q,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(P.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(T.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}}));function Z(){var e=Q(),t=(Object(W.a)(),r.a.useState(0)),a=Object(o.a)(t,2),i=a[0],c=(a[1],r.a.useState(0)),s=Object(o.a)(c,2),d=s[0],p=s[1],j=r.a.useState(!1),h=Object(o.a)(j,2),g=h[0],f=h[1];Object(n.useEffect)((function(){l.a.database().ref("users/"+u.currentUser.uid).set({username:u.currentUser.displayName,photo:u.currentUser.photoURL,state:"connected",chats:["1"]}),l.a.database().ref().child("users").get().then((function(e){e.exists()?(console.log(e.val()),p(e.val()),d.push(e.val())):console.log("No data available")})).catch((function(e){console.error(e)}))}),[]);return Object(b.jsxs)("div",{className:e.root,children:[Object(b.jsx)(V.a,{}),Object(b.jsx)("synchronized",{}),Object(b.jsx)(D.a,{position:"fixed",className:Object(G.a)(e.appBar,Object(P.a)({},e.appBarShift,g)),children:Object(b.jsxs)(M.a,{children:[Object(b.jsx)(H.a,{color:"inherit","aria-label":"open drawer",onClick:function(){f(!0)},edge:"start",className:Object(G.a)(e.menuButton,Object(P.a)({},e.hide,g)),children:Object(b.jsx)(K.a,{})}),Object(b.jsx)(Y.a,{variant:"h6",noWrap:!0,children:"Chat Application"}),Object(b.jsx)(H.a,{color:"inherit","aria-label":"open drawer",onClick:function(){l.a.database().ref("users/"+u.currentUser.uid).update({state:"disconnected"}).then(u.signOut())},children:Object(b.jsx)($.a,{})})]})}),Object(b.jsx)("main",{className:e.content,children:Object(b.jsx)(U,{chat_id:"1",users:d,id:i})})]})}var ee=function(){var e=Object(s.a)(u),t=Object(o.a)(e,1)[0];return Object(b.jsx)(b.Fragment,{children:t?Object(b.jsx)(z.a,{children:Object(b.jsx)(E.c,{children:Object(b.jsx)(E.a,{exact:!0,path:"/",component:Z})})}):Object(b.jsx)(j,{})})},te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,270)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(ee,{})}),document.getElementById("root")),te()}},[[222,1,2]]]);
//# sourceMappingURL=main.48a6d5d8.chunk.js.map